!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;t.register("jcbeB",(function(o,i){var n=t("8MBJY"),s=t("a2hTj");new(function(){"use strict";function t(o){e(n)(this,t);this.options=Object.assign({isOpen:function(){},isClose:function(){}},o),this.modal=document.querySelector(".modal"),this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","textarea","[tabindex]"],this.events()}return e(s)(t,[{key:"events",value:function(){this.modal&&(document.addEventListener("click",function(e){var t=e.target.closest("[data-path]");if(t){var o=t.dataset.path,i=t.dataset.animation,n=t.dataset.speed;return this.animation=i||"fade",this.speed=n?parseInt(n):300,this.modalContainer=document.querySelector('[data-target="'.concat(o,'"]')),void this.open()}e.target.closest(".modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal__container")||e.target.closest(".modal__container")||!this.isOpen||this.close()}.bind(this)))}},{key:"open",value:function(){var e=this;this.previousActiveElement=document.activeElement,this.modal.style.setProperty("--transition-time","".concat(this.speed/1e3,"s")),this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((function(){e.options.isOpen(e),e.modalContainer.classList.add("animate-open"),e.isOpen=!0,e.focusTrap()}),this.speed)}},{key:"close",value:function(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}},{key:"focusCatch",value:function(e){var t=this.modalContainer.querySelectorAll(this.focusElements),o=Array.prototype.slice.call(t),i=o.indexOf(document.activeElement);e.shiftKey&&0===i&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||i!==o.length-1||(o[0].focus(),e.preventDefault())}},{key:"focusTrap",value:function(){var e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e[0].focus():this.previousActiveElement.focus()}},{key:"disableScroll",value:function(){var e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}},{key:"enableScroll",value:function(){var e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}},{key:"lockPadding",value:function(){var e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach((function(t){t.style.paddingRight=e})),document.body.style.paddingRight=e}},{key:"unlockPadding",value:function(){this.fixBlocks.forEach((function(e){e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}]),t}())({isOpen:function(e){console.log(e),console.log("opened")},isClose:function(){console.log("closed")}})})),t.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),t.register("a2hTj",(function(e,t){"use strict";function o(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){t&&o(e.prototype,t);i&&o(e,i);return e}}))}();
//# sourceMappingURL=modals.fdc126b0.js.map
